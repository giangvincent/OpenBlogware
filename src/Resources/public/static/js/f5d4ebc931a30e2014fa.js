(window["webpackJsonpPluginwerkl-open-blogware"]=window["webpackJsonpPluginwerkl-open-blogware"]||[]).push([[44],{1156:function(){},9044:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return l}}),o(4393);let{Mixin:a}=Shopware,{Criteria:r}=Shopware.Data,{mapPropertyErrors:n}=Shopware.Component.getComponentHelper();var l={template:'{% block werkl_blog_author_detail %}\n<sw-page class="werkl-blog-author-detail">\n    <template #smart-bar-header>\n        <h2>\n            {% block werkl_blog_author_detail_smart_bar_header_title_text %}\n            {{ salutation(blogAuthor) || $tc(\'werkl-blog-author.detail.title\') }}\n            {% endblock %}\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button :router-link="{ name: \'blog.module.author.index\' }">\n            {{ $tc(\'werkl-blog-author.detail.buttonCancel\') }}\n        </sw-button>\n\n        <sw-button-process\n            :is-loading="isLoading"\n            :process-success="processSuccess"\n            variant="primary"\n            @update:process-success="saveFinish"\n            @click="onSave">\n            {{ $tc(\'werkl-blog-author.detail.buttonSave\') }}\n        </sw-button-process>\n\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-card v-if="blogAuthor" :isLoading="isLoading" :title="$tc(\'werkl-blog-author.detail.title\')">\n                <sw-container columns="2fr 4fr 4fr" gap="16px">\n                    <sw-entity-single-select\n                        class="werkl-blog-author-base-form__salutation-select"\n                        entity="salutation"\n                        :label="$tc(\'werkl-blog-author.detail.salutation.label\')"\n                        :placeholder="$tc(\'werkl-blog-author.detail.salutation.placeholder\')"\n                        :error="blogAuthorSalutationIdError"\n                        labelProperty="displayName"\n                        required\n                        v-model:value="blogAuthor.salutationId">\n                    </sw-entity-single-select>\n\n                    <sw-text-field\n                        required\n                        :error="blogAuthorFirstNameError"\n                        :placeholder="$tc(\'werkl-blog-author.detail.firstName.placeholder\')"\n                        :label="$tc(\'werkl-blog-author.detail.firstName.label\')"\n                        v-model:value="blogAuthor.firstName"/>\n\n                    <sw-text-field\n                        required\n                        :error="blogAuthorLastNameError"\n                        :placeholder="$tc(\'werkl-blog-author.detail.lastName.placeholder\')"\n                        :label="$tc(\'werkl-blog-author.detail.lastName.label\')"\n                        v-model:value="blogAuthor.lastName"/>\n                </sw-container>\n\n                <sw-container columns="6fr 4fr" gap="24px">\n                    <sw-text-field\n                        :error="blogAuthorDisplayNameError"\n                        :placeholder="$tc(\'werkl-blog-author.detail.displayName.placeholder\')"\n                        :label="$tc(\'werkl-blog-author.detail.displayName.label\')"\n                        v-model:value="blogAuthor.displayName"/>\n\n                    <sw-text-field\n                        required\n                        :error="blogAuthorEmailError"\n                        :placeholder="$tc(\'werkl-blog-author.detail.email.placeholder\')"\n                        :label="$tc(\'werkl-blog-author.detail.email.label\')"\n                        v-model:value="blogAuthor.email"/>\n                </sw-container>\n\n                <sw-container columns="1fr" gap="32px">\n                    <sw-text-editor\n                        :label="$tc(\'werkl-blog-author.detail.description.label\')"\n                        :placeholder="$tc(\'werkl-blog-author.detail.description.placeholder\')"\n                        :error="blogAuthorDescriptionError"\n                        v-model:value="blogAuthor.description">\n                    </sw-text-editor>\n                </sw-container>\n\n                <sw-upload-listener\n                    :uploadTag="blogAuthor.id"\n                    @media-upload-finish="onSetMediaItem"\n                    autoUpload>\n                </sw-upload-listener>\n\n                <sw-media-upload-v2\n                    variant="regular"\n                    :allowMultiSelect="false"\n                    defaultFolder="werkl_blog_author"\n                    :disabled="isLoading"\n                    :fileAccept="fileAccept"\n                    :label="$tc(\'werkl-blog-author.detail.media.label\')"\n                    :uploadTag="blogAuthor.id"\n                    :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n                    :source="blogAuthor.mediaId"\n                    @media-upload-remove-image="onRemoveMediaItem"\n                    @media-drop="onMediaDropped">\n                </sw-media-upload-v2>\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[a.getByName("notification"),a.getByName("salutation")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},data(){return{isLoading:!1,isSaveSuccessful:!1,blogAuthor:null,blogAuthorCustomFieldSets:null,processSuccess:!1,availableTags:null,fileAccept:"image/*"}},metaInfo(){return{title:this.$createTitle(this.identifier)}},computed:{identifier(){return null!==this.blogAuthor?this.salutation(this.blogAuthor):""},blogAuthorRepository(){return this.repositoryFactory.create("werkl_blog_author")},mediaRepository(){return this.repositoryFactory.create("media")},defaultCriteria(){let e=new r;return e.addAssociation("media").addAssociation("salutation"),e},customFieldSetRepository(){return this.repositoryFactory.create("custom_field_set")},customFieldSetCriteria(){let e=new r;return e.addFilter(r.equals("relations.entityName","werkl_blog_author")),e.getAssociation("customFields").addSorting(r.sort("config.customFieldPosition")),e},...n("blogAuthor",["firstName","lastName","displayName","email","salutationId","description"])},created(){this.createdComponent()},methods:{createdComponent(){this.isLoading=!0,this.blogAuthorRepository.get(this.$route.params.id,Shopware.Context.api,this.defaultCriteria).then(e=>{this.blogAuthor=e,this.isLoading=!1})},saveFinish(){this.isSaveSuccessful=!1},async onSave(){return this.isLoading=!0,this.isSaveSuccessful=!1,this.blogAuthorRepository.save(this.blogAuthor,Shopware.Context.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.createNotificationSuccess({message:this.$tc("werkl-blog-author.detail.messageSaveSuccess",0,{name:`${this.blogAuthor.firstName} ${this.blogAuthor.lastName}`})}),this.$router.push({name:"blog.module.author.detail",params:{id:this.blogAuthor.id}})}).catch(e=>{throw this.createNotificationError({message:this.$tc("global.notification.unspecifiedSaveErrorMessage")}),this.isLoading=!1,e})},onCancel(){this.$router.push({name:"werkl_blog.author.index"})},onSetMediaItem({targetId:e}){this.mediaRepository.get(e,Shopware.Context.api).then(t=>{this.blogAuthor.mediaId=e,this.blogAuthor.media=t})},onRemoveMediaItem(){this.blogAuthor.mediaId=null,this.blogAuthor.media=null},onMediaDropped(e){this.onSetMediaItem({targetId:e.id})}}}},4393:function(e,t,o){var a=o(1156);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,o(534).A)("1f87e4c7",a,!0,{})},534:function(e,t,o){"use strict";function a(e,t){for(var o=[],a={},r=0;r<t.length;r++){var n=t[r],l=n[0],i={id:e+":"+r,css:n[1],media:n[2],sourceMap:n[3]};a[l]?a[l].parts.push(i):o.push(a[l]={id:l,parts:[i]})}return o}o.d(t,{A:function(){return m}});var r,n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},i=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,u=!1,c=function(){},h=null,p="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,o,r){u=o,h=r||{};var n=a(e,t);return b(n),function(t){for(var o=[],r=0;r<n.length;r++){var i=l[n[r].id];i.refs--,o.push(i)}t?b(n=a(e,t)):n=[];for(var r=0;r<o.length;r++){var i=o[r];if(0===i.refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete l[i.id]}}}}function b(e){for(var t=0;t<e.length;t++){var o=e[t],a=l[o.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](o.parts[r]);for(;r<o.parts.length;r++)a.parts.push(w(o.parts[r]));a.parts.length>o.parts.length&&(a.parts.length=o.parts.length)}else{for(var n=[],r=0;r<o.parts.length;r++)n.push(w(o.parts[r]));l[o.id]={id:o.id,refs:1,parts:n}}}}function f(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function w(e){var t,o,a=document.querySelector("style["+p+'~="'+e.id+'"]');if(a){if(u)return c;a.parentNode.removeChild(a)}if(g){var r=d++;t=A.bind(null,a=s||(s=f()),r,!1),o=A.bind(null,a,r,!0)}else t=y.bind(null,a=f()),o=function(){a.parentNode.removeChild(a)};return t(e),function(a){a?(a.css!==e.css||a.media!==e.media||a.sourceMap!==e.sourceMap)&&t(e=a):o()}}var v=(r=[],function(e,t){return r[e]=t,r.filter(Boolean).join("\n")});function A(e,t,o,a){var r=o?"":a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var n=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(n,l[t]):e.appendChild(n)}}function y(e,t){var o=t.css,a=t.media,r=t.sourceMap;if(a&&e.setAttribute("media",a),h.ssrId&&e.setAttribute(p,t.id),r&&(o+="\n/*# sourceURL="+r.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}}}]);