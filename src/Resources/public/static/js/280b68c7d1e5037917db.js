(window["webpackJsonpPluginwerkl-open-blogware"]=window["webpackJsonpPluginwerkl-open-blogware"]||[]).push([[925],{552:function(){},925:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}}),n(209);let{Mixin:l}=Shopware,{EntityCollection:o,Criteria:s}=Shopware.Data;var i={template:'{% block werkl_cms_element_blog_listing_config %}\n<div class="sw-cms-el-config-blog">\n\n    {% block werkl_cms_element_blog_listing_config_paginationCount_field %}\n    <sw-number-field\n        numberType="int"\n        :step="1"\n        :min="1"\n        :max="null"\n        v-model:value="element.config.paginationCount.value"\n        :digits="2"\n        :allowEmpty="false"\n        :label="$tc(\'werkl-blog.elements.listing.config.paginationCount\')">\n    </sw-number-field>\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_listing_config_show_type %}\n    <sw-select-field\n        :label="$tc(\'werkl-blog.elements.listing.config.showType.label\')"\n        v-model:value="element.config.showType.value"\n    >\n        {% block werkl_cms_element_download_card_config_layout_select_options %}\n        <option value="all">{{ $tc(\'werkl-blog.elements.listing.config.showType.options.all\') }}</option>\n        <option value="select">{{ $tc(\'werkl-blog.elements.listing.config.showType.options.select\') }}</option>\n        {% endblock %}\n    </sw-select-field>\n    {% endblock %}\n\n\n    {% block werkl_cms_element_blog_listing_config_select_categories %}\n    <werkl-blog-category-tree-field\n        v-if="element.config.showType.value !== \'all\' && selectedCategories"\n        v-model:value="selectedCategories"\n        :label="$tc(\'werkl-blog.elements.listing.config.blogCategories.label\')"\n        :categoriesCollection="selectedCategories"\n        class="sw-product-detail__select-category"\n        :placeholder="$tc(\'werkl-blog.elements.listing.config.blogCategories.placeholder\')">\n    </werkl-blog-category-tree-field>\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_listing_config_show_tags %}\n    <sw-select-field\n        :label="$tc(\'werkl-blog.elements.listing.config.showTags.label\')"\n        v-model:value="element.config.showTags.value"\n    >\n        <option value="all">{{ $tc(\'werkl-blog.elements.listing.config.showTags.options.all\') }}</option>\n        <option value="select">{{ $tc(\'werkl-blog.elements.listing.config.showTags.options.select\') }}</option>\n    </sw-select-field>\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_listing_config_select_tags %}\n    <sw-entity-tag-select\n        v-if="element.config.showTags.value !== \'all\' && selectedTags"\n        v-model:entityCollection="selectedTags"\n        :label="$tc(\'werkl-blog.elements.listing.config.blogTags.label\')"\n        :placeholder="$tc(\'werkl-blog.elements.listing.config.blogTags.placeholder\')">\n    </sw-entity-tag-select>\n    {% endblock %}\n\n    {% block werkl_cms_element_blog_listing_config_show_filter_select %}\n    <sw-card\n        :title="$tc(\'werkl-blog.elements.listing.config.showFilter.label\')"\n        :hero="false"\n        :isLoading="false"\n        :large="false"\n        class="sw-blog-config-filter">\n\n        <sw-checkbox-field\n            :label="$tc(\'werkl-blog.elements.listing.config.showFilter.options.filter.category\')"\n            v-model:value="element.config.showCategoryFilter.value">\n        </sw-checkbox-field>\n\n        <sw-checkbox-field\n            :label="$tc(\'werkl-blog.elements.listing.config.showFilter.options.filter.author\')"\n            v-model:value="element.config.showAuthorFilter.value">\n        </sw-checkbox-field>\n    </sw-card>\n    {% endblock %}\n\n</div>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[l.getByName("cms-element")],data(){return{categories:[],selectedCategories:null,selectedTags:null}},computed:{blogCategoryRepository(){return this.repositoryFactory.create("werkl_blog_category")},tagRepository(){return this.repositoryFactory.create("tag")},blogListingSelectContext(){let e=Object.assign({},Shopware.Context.api);return e.inheritance=!0,e},blogCategoriesConfigValue(){return this.element.config.blogCategories.value},blogTagsConfigValue(){return this.element.config.blogTags.value}},watch:{selectedCategories:{handler(e){this.element.config.blogCategories.value=e.getIds(),this.$set(this.element.data,"blogCategories",e),this.$emit("element-update",this.element)}},selectedTags:{handler(e){this.element.config.blogTags.value=e.getIds(),this.$set(this.element.data,"tags",e),this.$emit("element-update",this.element)}}},created(){this.createdComponent()},methods:{async createdComponent(){this.initElementConfig("blog"),await this.getSelectedCategories(),await this.getSelectedTags()},getSelectedCategories(){if(Shopware.Utils.types.isEmpty(this.blogCategoriesConfigValue))this.selectedCategories=new o(this.blogCategoryRepository.route,this.blogCategoryRepository.schema.entity,Shopware.Context.api,new s);else{let e=new s;e.setIds(this.blogCategoriesConfigValue),this.blogCategoryRepository.search(e,Shopware.Context.api).then(e=>{this.selectedCategories=e})}},getSelectedTags(){if(Shopware.Utils.types.isEmpty(this.blogTagsConfigValue))this.selectedTags=new o(this.tagRepository.route,this.tagRepository.schema.entity,Shopware.Context.api,new s);else{let e=new s;e.setIds(this.blogTagsConfigValue),this.tagRepository.search(e,Shopware.Context.api).then(e=>{this.selectedTags=e})}}}}},209:function(e,t,n){var l=n(552);l.__esModule&&(l=l.default),"string"==typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals),(0,n(534).A)("0a2e1397",l,!0,{})},534:function(e,t,n){"use strict";function l(e,t){for(var n=[],l={},o=0;o<t.length;o++){var s=t[o],i=s[0],a={id:e+":"+o,css:s[1],media:s[2],sourceMap:s[3]};l[i]?l[i].parts.push(a):n.push(l[i]={id:i,parts:[a]})}return n}n.d(t,{A:function(){return h}});var o,s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=s&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,g=!1,d=function(){},f=null,p="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,n,o){g=n,f=o||{};var s=l(e,t);return m(s),function(t){for(var n=[],o=0;o<s.length;o++){var a=i[s[o].id];a.refs--,n.push(a)}t?m(s=l(e,t)):s=[];for(var o=0;o<n.length;o++){var a=n[o];if(0===a.refs){for(var r=0;r<a.parts.length;r++)a.parts[r]();delete i[a.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],l=i[n.id];if(l){l.refs++;for(var o=0;o<l.parts.length;o++)l.parts[o](n.parts[o]);for(;o<n.parts.length;o++)l.parts.push(w(n.parts[o]));l.parts.length>n.parts.length&&(l.parts.length=n.parts.length)}else{for(var s=[],o=0;o<n.parts.length;o++)s.push(w(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:s}}}}function b(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function w(e){var t,n,l=document.querySelector("style["+p+'~="'+e.id+'"]');if(l){if(g)return d;l.parentNode.removeChild(l)}if(u){var o=c++;t=_.bind(null,l=r||(r=b()),o,!1),n=_.bind(null,l,o,!0)}else t=y.bind(null,l=b()),n=function(){l.parentNode.removeChild(l)};return t(e),function(l){l?(l.css!==e.css||l.media!==e.media||l.sourceMap!==e.sourceMap)&&t(e=l):n()}}var v=(o=[],function(e,t){return o[e]=t,o.filter(Boolean).join("\n")});function _(e,t,n,l){var o=n?"":l.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var s=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(s,i[t]):e.appendChild(s)}}function y(e,t){var n=t.css,l=t.media,o=t.sourceMap;if(l&&e.setAttribute("media",l),f.ssrId&&e.setAttribute(p,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}}]);