(window["webpackJsonpPluginwerkl-open-blogware"]=window["webpackJsonpPluginwerkl-open-blogware"]||[]).push([[656],{4057:function(){},9656:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}}),n(9824);let{Mixin:l}=Shopware,a=Shopware.Data.Criteria;var r={template:'{% block werkl_blog_list %}\n<sw-page class="werkl-blog-list">\n    <template #smart-bar-header>\n        <h2>\n            {% block werkl_blog_list_smart_bar_header_title_text %}\n            {{ $tc(\'werkl-blog.list.textBlogOverview\') }}\n            {% endblock %}\n\n            {% block werkl_blog_list_smart_bar_header_amount %}\n            <span v-if="!isLoading" class="sw-page__smart-bar-amount">\n                ({{ total }})\n            </span>\n            {% endblock %}\n        </h2>\n    </template>\n\n    <template #language-switch>\n        <sw-language-switch @on-change="changeLanguage"></sw-language-switch>\n    </template>\n\n    {% block werkl_blog_list_smart_bar_actions %}\n    <template #smart-bar-actions>\n        {% block werkl_blog_list_smart_bar_actions_add %}\n        <sw-button :router-link="{ name: \'blog.module.create\' }" variant="primary">\n            {{ $tc(\'werkl-blog.list.buttonAddBlogEntry\') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <template #sidebar>\n        <werkl-blog-vertical-tabs />\n    </template>\n\n    <template #side-content>\n        {% block werkl_blog_category_side_content %}\n        <werkl-blog-category-tree\n            :categoryId="categoryId"\n            :currentLanguageId="currentLanguageId"\n            @update:categoryId="changeCategoryId"\n        />\n        {% endblock %}\n    </template>\n\n    <template #content>\n        {% block werkl_blog_list_content %}\n        <sw-entity-listing\n            v-if="blogEntries"\n            :items="blogEntries"\n            :repository="blogEntriesRepository"\n            :showSelection="false"\n            :columns="columns"\n            detailRoute="blog.module.detail"\n        >\n            {% block werkl_blog_list_grid_columns_name %}\n            <template #column-active="{ item, isInlineEdit }">\n                {% block werkl_blog_list_grid_columns_name_inline_edit %}\n                <template v-if="isInlineEdit">\n                    <sw-checkbox-field v-model:value="item.active"></sw-checkbox-field>\n                </template>\n                {% endblock %}\n\n                {% block werkl_blog_list_grid_columns_name_content %}\n                <template v-else>\n                    <sw-icon v-if="item.active" name="regular-checkmark-xs" small class="is--active"></sw-icon>\n                    <sw-icon v-else name="regular-times-xs" small class="is--inactive"></sw-icon>\n                </template>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            {% block werkl_blog_list_grid_columns_author %}\n            <template #column-author="{ item }">\n                {% block werkl_blog_list_grid_columns_author_content %}\n                <router-link :to="{ name: \'blog.module.author.detail\', params: { id: item.authorId } }">\n                    {{ salutation(item.blogAuthor) }}\n                </router-link>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            {% block werkl_blog_list_grid_columns_published %}\n            <template #column-publishedAt="{ item }">\n                {{ dateFilter(item.publishedAt, { hour: undefined, minute: undefined }) }}\n            </template>\n            {% endblock %}\n\n        </sw-entity-listing>\n        {% endblock %}\n\n        {% block werkl_blog_list_empty_state %}\n        <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'werkl-blog.list.messageEmpty\')">\n            {{ $tc(\'werkl-blog-author.list.messageEmpty\') }}\n        </sw-empty-state>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:[l.getByName("salutation"),l.getByName("listing")],data(){return{categoryId:null,blogEntries:null,total:0,isLoading:!0,currentLanguageId:Shopware.Context.api.languageId}},metaInfo(){return{title:this.$createTitle()}},created(){this.getList()},computed:{blogEntriesRepository(){return this.repositoryFactory.create("werkl_blog_entries")},blogCategoryRepository(){return this.repositoryFactory.create("werkl_blog_category")},dateFilter(){return Shopware.Filter.getByName("date")},columns(){return[{property:"title",dataIndex:"title",label:this.$tc("werkl-blog.list.table.title"),routerLink:"blog.module.detail",primary:!0,inlineEdit:"string"},{property:"author",label:this.$tc("werkl-blog.list.table.author"),inlineEdit:!1},{property:"publishedAt",label:this.$tc("werkl-blog.list.table.publishedAt"),inlineEdit:!1},{property:"active",label:this.$tc("werkl-blog.list.table.active"),inlineEdit:"boolean"}]}},methods:{changeLanguage(e){this.currentLanguageId=e,this.getList()},changeCategoryId(e){e&&e!==this.categoryId&&(this.categoryId=e,this.getList())},getList(){this.isLoading=!0;let e=new a(this.page,this.limit);return e.addAssociation("blogAuthor"),e.addAssociation("blogCategories"),e.addAssociation("tags"),e.addSorting(a.sort("publishedAt","DESC",!1)),this.categoryId&&e.addFilter(a.equals("blogCategories.id",this.categoryId)),this.blogEntriesRepository.search(e,Shopware.Context.api).then(e=>{this.total=e.total,this.blogEntries=e,this.isLoading=!1})}}}},9824:function(e,t,n){var l=n(4057);l.__esModule&&(l=l.default),"string"==typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals),(0,n(534).A)("2bd7c7a8",l,!0,{})},534:function(e,t,n){"use strict";function l(e,t){for(var n=[],l={},a=0;a<t.length;a++){var r=t[a],i=r[0],o={id:e+":"+a,css:r[1],media:r[2],sourceMap:r[3]};l[i]?l[i].parts.push(o):n.push(l[i]={id:i,parts:[o]})}return n}n.d(t,{A:function(){return m}});var a,r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},o=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,d=!1,u=function(){},g=null,p="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,a){d=n,g=a||{};var r=l(e,t);return h(r),function(t){for(var n=[],a=0;a<r.length;a++){var o=i[r[a].id];o.refs--,n.push(o)}t?h(r=l(e,t)):r=[];for(var a=0;a<n.length;a++){var o=n[a];if(0===o.refs){for(var s=0;s<o.parts.length;s++)o.parts[s]();delete i[o.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],l=i[n.id];if(l){l.refs++;for(var a=0;a<l.parts.length;a++)l.parts[a](n.parts[a]);for(;a<n.parts.length;a++)l.parts.push(k(n.parts[a]));l.parts.length>n.parts.length&&(l.parts.length=n.parts.length)}else{for(var r=[],a=0;a<n.parts.length;a++)r.push(k(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:r}}}}function _(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function k(e){var t,n,l=document.querySelector("style["+p+'~="'+e.id+'"]');if(l){if(d)return u;l.parentNode.removeChild(l)}if(b){var a=c++;t=f.bind(null,l=s||(s=_()),a,!1),n=f.bind(null,l,a,!0)}else t=y.bind(null,l=_()),n=function(){l.parentNode.removeChild(l)};return t(e),function(l){l?(l.css!==e.css||l.media!==e.media||l.sourceMap!==e.sourceMap)&&t(e=l):n()}}var w=(a=[],function(e,t){return a[e]=t,a.filter(Boolean).join("\n")});function f(e,t,n,l){var a=n?"":l.css;if(e.styleSheet)e.styleSheet.cssText=w(t,a);else{var r=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function y(e,t){var n=t.css,l=t.media,a=t.sourceMap;if(l&&e.setAttribute("media",l),g.ssrId&&e.setAttribute(p,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}}]);