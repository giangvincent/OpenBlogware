(window["webpackJsonpPluginwerkl-open-blogware"]=window["webpackJsonpPluginwerkl-open-blogware"]||[]).push([[44],{1156:function(){},9044:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}}),r(4393);let{Mixin:o}=Shopware,{Criteria:a}=Shopware.Data,{mapPropertyErrors:n}=Shopware.Component.getComponentHelper();var l={template:'{% block werkl_blog_author_detail %}\r\n<sw-page class="werkl-blog-author-detail">\r\n    <template #smart-bar-header>\r\n        <h2>\r\n            {% block werkl_blog_author_detail_smart_bar_header_title_text %}\r\n            {{ salutation(blogAuthor) || $t(\'werkl-blog-author.detail.title\') }}\r\n            {% endblock %}\r\n        </h2>\r\n    </template>\r\n\r\n    <template #smart-bar-actions>\r\n        <sw-button :router-link="{ name: \'blog.module.author.index\' }">\r\n            {{ $tc(\'werkl-blog-author.detail.buttonCancel\') }}\r\n        </sw-button>\r\n\r\n        <sw-button-process\r\n            :is-loading="isLoading"\r\n            :process-success="processSuccess"\r\n            variant="primary"\r\n            @update:process-success="saveFinish"\r\n            @click="onSave">\r\n            {{ $tc(\'werkl-blog-author.detail.buttonSave\') }}\r\n        </sw-button-process>\r\n\r\n    </template>\r\n\r\n    <template #content>\r\n        <sw-card-view>\r\n            <sw-card v-if="blogAuthor" :isLoading="isLoading" :title="$tc(\'werkl-blog-author.detail.title\')">\r\n                <sw-container columns="2fr 4fr 4fr" gap="16px">\r\n                    <sw-entity-single-select\r\n                        class="werkl-blog-author-base-form__salutation-select"\r\n                        entity="salutation"\r\n                        :label="$tc(\'werkl-blog-author.detail.salutation.label\')"\r\n                        :placeholder="$tc(\'werkl-blog-author.detail.salutation.placeholder\')"\r\n                        :error="blogAuthorSalutationIdError"\r\n                        labelProperty="displayName"\r\n                        required\r\n                        v-model:value="blogAuthor.salutationId">\r\n                    </sw-entity-single-select>\r\n\r\n                    <sw-text-field\r\n                        required\r\n                        :error="blogAuthorFirstNameError"\r\n                        :placeholder="$tc(\'werkl-blog-author.detail.firstName.placeholder\')"\r\n                        :label="$tc(\'werkl-blog-author.detail.firstName.label\')"\r\n                        v-model:value="blogAuthor.firstName"/>\r\n\r\n                    <sw-text-field\r\n                        required\r\n                        :error="blogAuthorLastNameError"\r\n                        :placeholder="$tc(\'werkl-blog-author.detail.lastName.placeholder\')"\r\n                        :label="$tc(\'werkl-blog-author.detail.lastName.label\')"\r\n                        v-model:value="blogAuthor.lastName"/>\r\n                </sw-container>\r\n\r\n                <sw-container columns="6fr 4fr" gap="24px">\r\n                    <sw-text-field\r\n                        :error="blogAuthorDisplayNameError"\r\n                        :placeholder="$tc(\'werkl-blog-author.detail.displayName.placeholder\')"\r\n                        :label="$tc(\'werkl-blog-author.detail.displayName.label\')"\r\n                        v-model:value="blogAuthor.displayName"/>\r\n\r\n                    <sw-text-field\r\n                        required\r\n                        :error="blogAuthorEmailError"\r\n                        :placeholder="$tc(\'werkl-blog-author.detail.email.placeholder\')"\r\n                        :label="$tc(\'werkl-blog-author.detail.email.label\')"\r\n                        v-model:value="blogAuthor.email"/>\r\n                </sw-container>\r\n\r\n                <sw-container columns="1fr" gap="32px">\r\n                    <sw-text-editor\r\n                        :label="$tc(\'werkl-blog-author.detail.description.label\')"\r\n                        :placeholder="$tc(\'werkl-blog-author.detail.description.placeholder\')"\r\n                        :error="blogAuthorDescriptionError"\r\n                        v-model:value="blogAuthor.description">\r\n                    </sw-text-editor>\r\n                </sw-container>\r\n\r\n                <sw-upload-listener\r\n                    :uploadTag="blogAuthor.id"\r\n                    @media-upload-finish="onSetMediaItem"\r\n                    autoUpload>\r\n                </sw-upload-listener>\r\n\r\n                <sw-media-upload-v2\r\n                    variant="regular"\r\n                    :allowMultiSelect="false"\r\n                    defaultFolder="werkl_blog_author"\r\n                    :disabled="isLoading"\r\n                    :fileAccept="fileAccept"\r\n                    :label="$tc(\'werkl-blog-author.detail.media.label\')"\r\n                    :uploadTag="blogAuthor.id"\r\n                    :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\r\n                    :source="blogAuthor.mediaId"\r\n                    @media-upload-remove-image="onRemoveMediaItem"\r\n                    @media-drop="onMediaDropped">\r\n                </sw-media-upload-v2>\r\n            </sw-card>\r\n        </sw-card-view>\r\n    </template>\r\n</sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[o.getByName("notification"),o.getByName("salutation")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},data(){return{isLoading:!1,isSaveSuccessful:!1,blogAuthor:null,blogAuthorCustomFieldSets:null,processSuccess:!1,availableTags:null,fileAccept:"image/*"}},metaInfo(){return{title:this.$createTitle(this.identifier)}},computed:{identifier(){return null!==this.blogAuthor?this.salutation(this.blogAuthor):""},blogAuthorRepository(){return this.repositoryFactory.create("werkl_blog_author")},mediaRepository(){return this.repositoryFactory.create("media")},defaultCriteria(){let e=new a;return e.addAssociation("media").addAssociation("salutation"),e},customFieldSetRepository(){return this.repositoryFactory.create("custom_field_set")},customFieldSetCriteria(){let e=new a;return e.addFilter(a.equals("relations.entityName","werkl_blog_author")),e.getAssociation("customFields").addSorting(a.sort("config.customFieldPosition")),e},...n("blogAuthor",["firstName","lastName","displayName","email","salutationId","description"])},created(){this.createdComponent()},methods:{createdComponent(){this.isLoading=!0,this.blogAuthorRepository.get(this.$route.params.id,Shopware.Context.api,this.defaultCriteria).then(e=>{this.blogAuthor=e,this.isLoading=!1})},saveFinish(){this.isSaveSuccessful=!1},async onSave(){return this.isLoading=!0,this.isSaveSuccessful=!1,this.blogAuthorRepository.save(this.blogAuthor,Shopware.Context.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.createNotificationSuccess({message:this.$tc("werkl-blog-author.detail.messageSaveSuccess",0,{name:`${this.blogAuthor.firstName} ${this.blogAuthor.lastName}`})}),this.$router.push({name:"blog.module.author.detail",params:{id:this.blogAuthor.id}})}).catch(e=>{throw this.createNotificationError({message:this.$tc("global.notification.unspecifiedSaveErrorMessage")}),this.isLoading=!1,e})},onCancel(){this.$router.push({name:"werkl_blog.author.index"})},onSetMediaItem({targetId:e}){this.mediaRepository.get(e,Shopware.Context.api).then(t=>{this.blogAuthor.mediaId=e,this.blogAuthor.media=t})},onRemoveMediaItem(){this.blogAuthor.mediaId=null,this.blogAuthor.media=null},onMediaDropped(e){this.onSetMediaItem({targetId:e.id})}}}},4393:function(e,t,r){var o=r(1156);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals),(0,r(534).A)("1f87e4c7",o,!0,{})},534:function(e,t,r){"use strict";function o(e,t){for(var r=[],o={},a=0;a<t.length;a++){var n=t[a],l=n[0],i={id:e+":"+a,css:n[1],media:n[2],sourceMap:n[3]};o[l]?o[l].parts.push(i):r.push(o[l]={id:l,parts:[i]})}return r}r.d(t,{A:function(){return m}});var a,n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},i=n&&(document.head||document.getElementsByTagName("head")[0]),s=null,d=0,u=!1,c=function(){},h=null,p="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,r,a){u=r,h=a||{};var n=o(e,t);return b(n),function(t){for(var r=[],a=0;a<n.length;a++){var i=l[n[a].id];i.refs--,r.push(i)}t?b(n=o(e,t)):n=[];for(var a=0;a<r.length;a++){var i=r[a];if(0===i.refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete l[i.id]}}}}function b(e){for(var t=0;t<e.length;t++){var r=e[t],o=l[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(w(r.parts[a]));o.parts.length>r.parts.length&&(o.parts.length=r.parts.length)}else{for(var n=[],a=0;a<r.parts.length;a++)n.push(w(r.parts[a]));l[r.id]={id:r.id,refs:1,parts:n}}}}function f(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function w(e){var t,r,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(u)return c;o.parentNode.removeChild(o)}if(g){var a=d++;t=A.bind(null,o=s||(s=f()),a,!1),r=A.bind(null,o,a,!0)}else t=y.bind(null,o=f()),r=function(){o.parentNode.removeChild(o)};return t(e),function(o){o?(o.css!==e.css||o.media!==e.media||o.sourceMap!==e.sourceMap)&&t(e=o):r()}}var v=(a=[],function(e,t){return a[e]=t,a.filter(Boolean).join("\n")});function A(e,t,r,o){var a=r?"":o.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var n=document.createTextNode(a),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(n,l[t]):e.appendChild(n)}}function y(e,t){var r=t.css,o=t.media,a=t.sourceMap;if(o&&e.setAttribute("media",o),h.ssrId&&e.setAttribute(p,t.id),a&&(r+="\n/*# sourceURL="+a.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}}]);